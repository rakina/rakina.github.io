<html>
<head></head>
<body>
  <p>This page injects content into its opened windows</p>
  <button onclick="injectTextImmediately()">window.open() & inject text immediately</button>
  <button onclick="injectTextAfterLoad()">window.open() & inject text after load</button>
  <button onclick="injectTextAfterTimeout(0)">window.open() & inject text after setTimeout(0)</button>
  <button onclick="injectTextAfterTimeout(1)">window.open() & inject text after setTimeout(1)</button>
  <script>
    function injectTextImmediately() {
      let w = window.open();
      w.document.body.innerHTML = "Text injected immediately";
    }

    function injectTextAfterLoad() {
      let w = window.open();
      w.onload = () => {
        w.document.body.innerHTML = "Text injected after 'load' event on the window";
      };
    }

    function injectTextAfterTimeout(timeout) {
      let w = window.open();
      setTimeout(() => {
        w.document.body.innerHTML = `Text injected after setTimeout(${timeout})`;
      }, timeout);
    }

  </script>
</body>
</html>
